<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=kq8OFFIGpdD7nrf52t1cXVP99pNzUH9G"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
<title>合租房价格地理位置分布</title>
<style type="text/css">
    ul, li {
        list-style: none;
        margin: 0;
        padding: 0;
        float: left;
    }   

    html {
        height: 100%;
    }   

    body {
        height: 100%;
        margin: 0px;
        padding: 0px;
        font-family: "微软雅黑";
    }   

    #container {
        height: 95%;
        width: 100%;
    }   

    #r-result {
        width: 100%;
    }
</style>
</head>
    <body>
        <div id="container"></div>
    </body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container"); // 创建地图实例
    var point = new BMap.Point(116.403666,39.915331);
    map.centerAndZoom(point, 11); // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
    var points = [
            {"lng": 121.440219, "lat": 31.154983, "count": 10},
{"lng": 121.4542288, "lat": 31.17783063, "count": 10},
{"lng": 121.4522906, "lat": 31.17752913, "count": 10},
{"lng": 121.421808, "lat": 31.184429, "count": 10},
{"lng": 121.401757, "lat": 31.178376, "count": 10},
{"lng": 121.4413508, "lat": 31.15556134, "count": 10},
{"lng": 121.457592, "lat": 31.186276, "count": 10},
{"lng": 121.4241778, "lat": 31.1580873, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.440042, "lat": 31.157767, "count": 10},
{"lng": 121.4226678, "lat": 31.1435946, "count": 10},
{"lng": 121.440219, "lat": 31.154983, "count": 10},
{"lng": 121.423939, "lat": 31.153633, "count": 10},
{"lng": 121.4323206, "lat": 31.15470528, "count": 10},
{"lng": 121.4542288, "lat": 31.17783063, "count": 10},
{"lng": 121.434452, "lat": 31.175581, "count": 15},
{"lng": 121.472329, "lat": 31.201873, "count": 15},
{"lng": 121.464415, "lat": 31.206242, "count": 15},
{"lng": 121.45214, "lat": 31.196193, "count": 15},
{"lng": 121.437011, "lat": 31.153805, "count": 15},
{"lng": 121.436356, "lat": 31.199021, "count": 15},
{"lng": 121.4687549, "lat": 31.20880485, "count": 15},
{"lng": 121.434452, "lat": 31.175581, "count": 15},
{"lng": 121.47557, "lat": 31.202138, "count": 15},
{"lng": 121.432394, "lat": 31.191512, "count": 15},
{"lng": 121.439534, "lat": 31.182643, "count": 15},
{"lng": 121.438831, "lat": 31.190639, "count": 15},
{"lng": 121.438343, "lat": 31.196293, "count": 15},
{"lng": 121.455888, "lat": 31.192295, "count": 15},
{"lng": 121.433733, "lat": 31.197419, "count": 15},
{"lng": 121.453116, "lat": 31.172756, "count": 15},
{"lng": 121.4195823, "lat": 31.19588366, "count": 15},
{"lng": 121.454486, "lat": 31.190533, "count": 15},
{"lng": 121.438343, "lat": 31.196293, "count": 15},
{"lng": 121.433182, "lat": 31.169766, "count": 15},
{"lng": 121.433182, "lat": 31.169766, "count": 15},
{"lng": 121.4457232, "lat": 31.17655713, "count": 15},
{"lng": 121.432148, "lat": 31.193303, "count": 15},
{"lng": 121.450384, "lat": 31.171308, "count": 15},
{"lng": 121.433733, "lat": 31.197419, "count": 15},
{"lng": 121.4380998, "lat": 31.16762598, "count": 15},
{"lng": 121.425502, "lat": 31.185911, "count": 15},
{"lng": 121.4195823, "lat": 31.19588366, "count": 15},
{"lng": 121.458215, "lat": 31.200278, "count": 15},
{"lng": 121.4380998, "lat": 31.16762598, "count": 15},
{"lng": 121.455888, "lat": 31.192295, "count": 15},
{"lng": 121.437824, "lat": 31.156262, "count": 15},
{"lng": 121.418007, "lat": 31.15613, "count": 15},
{"lng": 121.44573, "lat": 31.190288, "count": 15},
{"lng": 121.44573, "lat": 31.190288, "count": 15},
{"lng": 121.4542288, "lat": 31.17783063, "count": 10},
{"lng": 121.4156781, "lat": 31.18595006, "count": 10},
{"lng": 121.4156781, "lat": 31.18595006, "count": 10},
{"lng": 121.453116, "lat": 31.172756, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.4542288, "lat": 31.17783063, "count": 10},
{"lng": 121.4413508, "lat": 31.15556134, "count": 10},
{"lng": 121.418007, "lat": 31.15613, "count": 10},
{"lng": 121.4386901, "lat": 31.17195101, "count": 10},
{"lng": 121.4542288, "lat": 31.17783063, "count": 10},
{"lng": 121.418007, "lat": 31.15613, "count": 10},
{"lng": 121.4413508, "lat": 31.15556134, "count": 10},
{"lng": 121.401757, "lat": 31.178376, "count": 10},
{"lng": 121.421277, "lat": 31.152353, "count": 10},
{"lng": 121.44573, "lat": 31.190288, "count": 10},
{"lng": 121.4241778, "lat": 31.1580873, "count": 10},
{"lng": 121.437824, "lat": 31.156262, "count": 10},
{"lng": 121.437011, "lat": 31.153805, "count": 10},
{"lng": 121.452424, "lat": 31.189236, "count": 10},
{"lng": 121.421277, "lat": 31.152353, "count": 10},
{"lng": 121.413614, "lat": 31.164467, "count": 10},
    ];

    var point = new Array(); //存放标注点经纬信息的数组 
    var marker = new Array(); //存放标注点对象的数组  
    var opacity = 0.1;
    for (var i = 0; i < points.length; i++) {
        var p0 = points[i].lng;
        var p1 = points[i].lat; 
        point[i] = new window.BMap.Point(p0, p1); //循环生成新的地图点  
        if(points[i].count==5)
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#7700FF",fillColor:"#7700FF",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        else if(points[i].count==10)
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#4DFC42",fillColor:"#4DFC42",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        else
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#FF0A00",fillColor:"#FF0A00",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        map.addOverlay(marker[i]);
    }
</script>