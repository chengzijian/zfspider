<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="initial-scale=1.0, user-scalable=no" />
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=kq8OFFIGpdD7nrf52t1cXVP99pNzUH9G"></script>
<script type="text/javascript" src="http://api.map.baidu.com/library/Heatmap/2.0/src/Heatmap_min.js"></script>
<title>合租房价格地理位置分布</title>
<style type="text/css">
    ul, li {
        list-style: none;
        margin: 0;
        padding: 0;
        float: left;
    }   

    html {
        height: 100%;
    }   

    body {
        height: 100%;
        margin: 0px;
        padding: 0px;
        font-family: "微软雅黑";
    }   

    #container {
        height: 95%;
        width: 100%;
    }   

    #r-result {
        width: 100%;
    }
</style>
</head>
    <body>
        <div id="container"></div>
    </body>
</html>
<script type="text/javascript">
    var map = new BMap.Map("container"); // 创建地图实例
    var point = new BMap.Point(121.451851,31.230006);
    map.centerAndZoom(point, 11); // 初始化地图，设置中心点坐标和地图级别
    map.enableScrollWheelZoom(); // 允许滚轮缩放
    var points = [
            {"lng": 121.437824, "lat": 31.156262, "count": 10},
{"lng": 121.42274, "lat": 31.161895, "count": 10},
{"lng": 121.441976, "lat": 31.148284, "count": 10},
{"lng": 121.452458, "lat": 31.192106, "count": 15},
{"lng": 121.448131, "lat": 31.194336, "count": 15},
{"lng": 121.392214, "lat": 31.157563, "count": 10},
{"lng": 121.43226, "lat": 31.022713, "count": 5},
{"lng": 121.398456, "lat": 31.181987, "count": 10},
{"lng": 121.402152, "lat": 31.159642, "count": 10},
{"lng": 121.392214, "lat": 31.157563, "count": 15},
{"lng": 121.398456, "lat": 31.181987, "count": 10},
{"lng": 121.597431, "lat": 31.106017, "count": 5},
{"lng": 121.5130351, "lat": 31.16430083, "count": 5},
{"lng": 121.522882, "lat": 31.231277, "count": 15},
{"lng": 121.529064, "lat": 31.242789, "count": 15},
{"lng": 121.528983, "lat": 31.229705, "count": 15},
{"lng": 121.525004, "lat": 31.245166, "count": 15},
{"lng": 121.5351162, "lat": 31.23799506, "count": 15},
{"lng": 121.51825, "lat": 31.23831918, "count": 15},
{"lng": 121.528983, "lat": 31.229705, "count": 15},
{"lng": 121.5305012, "lat": 31.22878914, "count": 15},
{"lng": 121.5180057, "lat": 31.23760155, "count": 15},
{"lng": 121.525004, "lat": 31.245166, "count": 15},
{"lng": 121.526802, "lat": 31.24271833, "count": 15},
{"lng": 121.525004, "lat": 31.245166, "count": 15},
{"lng": 121.526802, "lat": 31.24271833, "count": 15},
{"lng": 121.5305012, "lat": 31.22878914, "count": 15},
{"lng": 121.537361, "lat": 31.194388, "count": 10},
{"lng": 121.530817, "lat": 31.224111, "count": 15},
{"lng": 121.530817, "lat": 31.224111, "count": 15},
{"lng": 121.522882, "lat": 31.231277, "count": 15},
{"lng": 121.529064, "lat": 31.242789, "count": 15},
{"lng": 121.537868, "lat": 31.233427, "count": 15},
{"lng": 121.530817, "lat": 31.224111, "count": 15},
{"lng": 121.5263296, "lat": 31.22589817, "count": 15},
{"lng": 121.5337602, "lat": 31.24132805, "count": 15},
{"lng": 121.525004, "lat": 31.245166, "count": 15},
{"lng": 121.52503, "lat": 31.248362, "count": 15},
{"lng": 121.532922, "lat": 31.218117, "count": 15},
{"lng": 121.524189, "lat": 31.243051, "count": 15},
{"lng": 121.533619, "lat": 31.244132, "count": 15},
{"lng": 121.5263296, "lat": 31.22589817, "count": 15},
{"lng": 121.5313076, "lat": 31.21902356, "count": 15},
{"lng": 121.5337602, "lat": 31.24132805, "count": 15},
{"lng": 121.51825, "lat": 31.23831918, "count": 15},
{"lng": 121.5180057, "lat": 31.23760155, "count": 15},
{"lng": 121.5337602, "lat": 31.24132805, "count": 15},
{"lng": 121.5194457, "lat": 31.23239053, "count": 15},
{"lng": 121.5187815, "lat": 31.23814613, "count": 15},
{"lng": 121.4957505, "lat": 31.1748952, "count": 15},
{"lng": 121.5187815, "lat": 31.23814613, "count": 15},
{"lng": 121.524557, "lat": 31.230854, "count": 15},
{"lng": 121.51825, "lat": 31.23831918, "count": 15},
{"lng": 121.52945, "lat": 31.228007, "count": 15},
{"lng": 121.52945, "lat": 31.228007, "count": 15},
{"lng": 121.533619, "lat": 31.244132, "count": 15},
{"lng": 121.522882, "lat": 31.231277, "count": 15},
{"lng": 121.5280611, "lat": 31.24042292, "count": 15},
{"lng": 121.520745, "lat": 31.23180879, "count": 10},
{"lng": 121.524189, "lat": 31.243051, "count": 15},
{"lng": 121.522882, "lat": 31.231277, "count": 15},
{"lng": 121.52945, "lat": 31.228007, "count": 15},
{"lng": 121.526196, "lat": 31.238968, "count": 15},
{"lng": 121.5194457, "lat": 31.23239053, "count": 10},
{"lng": 121.5263296, "lat": 31.22589817, "count": 10},
{"lng": 121.673064, "lat": 31.21535, "count": 10},
{"lng": 121.5174005, "lat": 31.20527914, "count": 10},
{"lng": 121.564154, "lat": 31.19802, "count": 10},
{"lng": 121.537361, "lat": 31.194388, "count": 10},
{"lng": 121.526802, "lat": 31.24271833, "count": 10},
{"lng": 121.511978, "lat": 31.141017, "count": 10},
{"lng": 121.537868, "lat": 31.233427, "count": 10},
{"lng": 121.5296305, "lat": 31.23784369, "count": 10},
{"lng": 121.526196, "lat": 31.238968, "count": 10},
{"lng": 121.5194457, "lat": 31.23239053, "count": 10},
{"lng": 121.5305678, "lat": 31.23972158, "count": 10},
{"lng": 121.530817, "lat": 31.224111, "count": 10},
{"lng": 121.52627, "lat": 31.231159, "count": 10},
{"lng": 121.5309453, "lat": 31.24239332, "count": 10},
{"lng": 121.526196, "lat": 31.238968, "count": 10},
{"lng": 121.5263296, "lat": 31.22589817, "count": 10},
{"lng": 121.5263296, "lat": 31.22589817, "count": 15},
{"lng": 121.5305678, "lat": 31.23972158, "count": 15},
{"lng": 121.5283359, "lat": 31.22385267, "count": 15},
{"lng": 121.5194457, "lat": 31.23239053, "count": 10},
{"lng": 121.551869, "lat": 31.24425, "count": 10},
{"lng": 121.5364517, "lat": 31.23690467, "count": 10},
{"lng": 121.5147549, "lat": 31.19620003, "count": 10},
{"lng": 121.5236788, "lat": 31.24491953, "count": 10},
{"lng": 121.5333359, "lat": 31.2270147, "count": 10},
{"lng": 121.5147549, "lat": 31.19620003, "count": 10},
{"lng": 121.52945, "lat": 31.228007, "count": 10},
{"lng": 121.5364517, "lat": 31.23690467, "count": 10},
{"lng": 121.518163, "lat": 31.199051, "count": 10},
{"lng": 121.532544, "lat": 31.238222, "count": 10},
{"lng": 121.5180057, "lat": 31.23760155, "count": 10},
{"lng": 121.5187815, "lat": 31.23814613, "count": 10},
{"lng": 121.526802, "lat": 31.24271833, "count": 10},
{"lng": 121.522948, "lat": 31.184486, "count": 10},
{"lng": 121.530269, "lat": 31.194375, "count": 10},
{"lng": 121.5400896, "lat": 31.16845604, "count": 10},
{"lng": 121.530817, "lat": 31.224111, "count": 10},
{"lng": 121.52945, "lat": 31.228007, "count": 10},
{"lng": 121.568745, "lat": 31.245794, "count": 10},
{"lng": 121.553526, "lat": 31.241646, "count": 10},
{"lng": 121.556401, "lat": 31.248144, "count": 10},
{"lng": 121.5225921, "lat": 31.21796129, "count": 10},
{"lng": 121.5147549, "lat": 31.19620003, "count": 10},
{"lng": 121.528983, "lat": 31.229705, "count": 15},
{"lng": 121.5635533, "lat": 31.20211537, "count": 15},
{"lng": 121.5263296, "lat": 31.22589817, "count": 15},
{"lng": 121.566258, "lat": 31.202464, "count": 15},
{"lng": 121.525004, "lat": 31.245166, "count": 10},
{"lng": 121.5333359, "lat": 31.2270147, "count": 10},
{"lng": 121.5305012, "lat": 31.22878914, "count": 10},
{"lng": 121.522305, "lat": 31.18085, "count": 10},
{"lng": 121.5263296, "lat": 31.22589817, "count": 10},
{"lng": 121.566258, "lat": 31.202464, "count": 10},
{"lng": 121.526802, "lat": 31.24271833, "count": 10},
{"lng": 121.6192976, "lat": 31.28720279, "count": 10},
{"lng": 121.642282, "lat": 31.191384, "count": 10},
{"lng": 121.537361, "lat": 31.194388, "count": 10},
{"lng": 121.5283359, "lat": 31.22385267, "count": 10},
{"lng": 121.5236788, "lat": 31.24491953, "count": 10},
{"lng": 121.529064, "lat": 31.242789, "count": 10},
{"lng": 121.561193, "lat": 31.245095, "count": 10},
{"lng": 121.5635533, "lat": 31.20211537, "count": 10},
{"lng": 121.5305012, "lat": 31.22878914, "count": 10},
{"lng": 121.556401, "lat": 31.248144, "count": 10},
{"lng": 121.569789, "lat": 31.203488, "count": 10},
{"lng": 121.590878, "lat": 31.288439, "count": 10},
{"lng": 121.632642, "lat": 31.204217, "count": 10},
{"lng": 121.620203, "lat": 31.303836, "count": 10},
{"lng": 121.55031, "lat": 31.207959, "count": 10},
{"lng": 121.5993383, "lat": 31.26740368, "count": 10},
{"lng": 121.5174005, "lat": 31.20527914, "count": 10},
{"lng": 121.577416, "lat": 31.154397, "count": 10},
{"lng": 121.7095209, "lat": 31.20033808, "count": 10},
{"lng": 121.561193, "lat": 31.245095, "count": 10},
{"lng": 121.5333325, "lat": 31.19562015, "count": 10},
{"lng": 121.556401, "lat": 31.248144, "count": 10},
{"lng": 121.6991428, "lat": 31.20569681, "count": 10},
{"lng": 121.516612, "lat": 31.128722, "count": 10},
{"lng": 121.569789, "lat": 31.203488, "count": 10},
{"lng": 121.5941342, "lat": 31.2898976, "count": 10},
{"lng": 121.6977569, "lat": 31.19540772, "count": 10},
{"lng": 121.533269, "lat": 31.187226, "count": 10},
{"lng": 121.671223, "lat": 31.211588, "count": 10},
{"lng": 121.5400896, "lat": 31.16845604, "count": 5},
{"lng": 121.699478, "lat": 31.20653, "count": 5},
{"lng": 121.699478, "lat": 31.20653, "count": 5},
{"lng": 121.576008, "lat": 31.356505, "count": 5},
{"lng": 121.542774, "lat": 31.136789, "count": 5},
{"lng": 121.710088, "lat": 31.197933, "count": 5},
{"lng": 121.5872093, "lat": 31.35846088, "count": 5},
{"lng": 121.710088, "lat": 31.197933, "count": 5},
{"lng": 121.591146, "lat": 31.355981, "count": 5},
{"lng": 121.597908, "lat": 31.336086, "count": 5},
{"lng": 121.704899, "lat": 31.19832522, "count": 5},
{"lng": 121.5872093, "lat": 31.35846088, "count": 5},
{"lng": 121.598315, "lat": 31.331559, "count": 5},
{"lng": 121.577281, "lat": 31.35751536, "count": 5},
{"lng": 121.597908, "lat": 31.336086, "count": 5},
{"lng": 121.680538, "lat": 31.24531211, "count": 5},
{"lng": 121.704155, "lat": 31.181687, "count": 10},
{"lng": 121.6202649, "lat": 31.30720078, "count": 10},
{"lng": 121.680538, "lat": 31.24531211, "count": 10},
{"lng": 121.597431, "lat": 31.106017, "count": 5},
{"lng": 121.372499, "lat": 31.181304, "count": 10},
{"lng": 121.408441, "lat": 31.14474, "count": 10},
{"lng": 121.372485, "lat": 31.17863, "count": 10},
{"lng": 121.367827, "lat": 31.120942, "count": 10},
{"lng": 121.374867, "lat": 31.185379, "count": 10},
{"lng": 121.408441, "lat": 31.14474, "count": 10},
{"lng": 121.374867, "lat": 31.185379, "count": 10},
{"lng": 121.404954, "lat": 31.160694, "count": 10},
{"lng": 121.3965762, "lat": 31.11761233, "count": 10},
{"lng": 121.3624675, "lat": 31.18250242, "count": 10},
{"lng": 121.3918966, "lat": 31.09479205, "count": 10},
{"lng": 121.351008, "lat": 31.160177, "count": 10},
{"lng": 121.3918966, "lat": 31.09479205, "count": 10},
{"lng": 121.386385, "lat": 31.157099, "count": 10},
{"lng": 121.4051923, "lat": 31.01854442, "count": 5},
{"lng": 121.4051923, "lat": 31.01854442, "count": 5},
{"lng": 121.430056, "lat": 31.011786, "count": 5},
{"lng": 121.537113, "lat": 31.065395, "count": 5},
{"lng": 121.545313, "lat": 31.067222, "count": 5},
{"lng": 121.4672219, "lat": 31.04843604, "count": 5},
{"lng": 121.442133, "lat": 31.189866, "count": 15},
{"lng": 121.452458, "lat": 31.192106, "count": 10},
{"lng": 121.4274483, "lat": 31.15744879, "count": 10},
{"lng": 121.4218025, "lat": 31.16410457, "count": 10},
{"lng": 121.4298131, "lat": 31.18186825, "count": 10},
{"lng": 121.4298131, "lat": 31.18186825, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.416193, "lat": 31.157877, "count": 10},
{"lng": 121.431059, "lat": 31.199503, "count": 10},
{"lng": 121.4441738, "lat": 31.15712719, "count": 10},
{"lng": 121.4535856, "lat": 31.16486987, "count": 10},
{"lng": 121.4386901, "lat": 31.17195101, "count": 10},
{"lng": 121.4390743, "lat": 31.16917823, "count": 10},
{"lng": 121.452315, "lat": 31.172271, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.4386901, "lat": 31.17195101, "count": 10},
{"lng": 121.4274483, "lat": 31.15744879, "count": 10},
{"lng": 121.4218025, "lat": 31.16410457, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.416193, "lat": 31.157877, "count": 10},
{"lng": 121.426927, "lat": 31.149744, "count": 10},
{"lng": 121.426927, "lat": 31.149744, "count": 10},
{"lng": 121.457625, "lat": 31.176443, "count": 10},
{"lng": 121.452315, "lat": 31.172271, "count": 10},
{"lng": 121.458746, "lat": 31.187682, "count": 10},
{"lng": 121.419453, "lat": 31.153085, "count": 10},
{"lng": 121.440042, "lat": 31.157767, "count": 10},
{"lng": 121.4226678, "lat": 31.1435946, "count": 10},
{"lng": 121.5187815, "lat": 31.23814613, "count": 15},
{"lng": 121.437756, "lat": 31.291739, "count": 10},
{"lng": 121.456074, "lat": 31.318773, "count": 5},
{"lng": 121.4647106, "lat": 31.26649482, "count": 10},
{"lng": 121.4675012, "lat": 31.27580298, "count": 10},
{"lng": 121.471145, "lat": 31.254568, "count": 15},
{"lng": 121.4351, "lat": 31.297883, "count": 10},
{"lng": 121.377672, "lat": 31.200451, "count": 10},
{"lng": 121.392448, "lat": 31.213848, "count": 10},
{"lng": 121.368025, "lat": 31.218997, "count": 15},
{"lng": 121.421043, "lat": 31.221526, "count": 15},
{"lng": 121.4175956, "lat": 31.22640485, "count": 15},
{"lng": 121.438448, "lat": 31.215027, "count": 15},
{"lng": 121.432232, "lat": 31.231558, "count": 15},
{"lng": 121.4332895, "lat": 31.21312093, "count": 15},
{"lng": 121.3984011, "lat": 31.20764874, "count": 15},
{"lng": 121.4415342, "lat": 31.22149184, "count": 15},
{"lng": 121.4415342, "lat": 31.22149184, "count": 15},
{"lng": 121.4355707, "lat": 31.21295354, "count": 15},
{"lng": 121.427428, "lat": 31.213332, "count": 15},
{"lng": 121.373039, "lat": 31.218652, "count": 15},
{"lng": 121.42598, "lat": 31.230888, "count": 15},
{"lng": 121.4314477, "lat": 31.21023956, "count": 15},
{"lng": 121.4247955, "lat": 31.20697584, "count": 15},
{"lng": 121.438448, "lat": 31.215027, "count": 10},
{"lng": 121.385837, "lat": 31.19668, "count": 10},
{"lng": 121.4307914, "lat": 31.2114399, "count": 10},
{"lng": 121.4307914, "lat": 31.2114399, "count": 10},
{"lng": 121.3763694, "lat": 31.22239667, "count": 10},
{"lng": 121.41059, "lat": 31.225286, "count": 15},
{"lng": 121.4200163, "lat": 31.20657993, "count": 15},
{"lng": 121.4351, "lat": 31.297883, "count": 10},
{"lng": 121.46814, "lat": 31.317325, "count": 10},
{"lng": 121.441493, "lat": 31.324544, "count": 10},
{"lng": 121.46814, "lat": 31.317325, "count": 10},
{"lng": 121.441493, "lat": 31.324544, "count": 10},
{"lng": 121.4559138, "lat": 31.32272914, "count": 10},
{"lng": 121.4559138, "lat": 31.32272914, "count": 10},
{"lng": 121.436353, "lat": 31.294567, "count": 10},
{"lng": 121.4431255, "lat": 31.32036442, "count": 5},
{"lng": 121.431945, "lat": 31.297434, "count": 10},
{"lng": 121.4715672, "lat": 31.31577988, "count": 10},
{"lng": 121.437756, "lat": 31.291739, "count": 10},
{"lng": 121.4431255, "lat": 31.32036442, "count": 10},
{"lng": 121.520704, "lat": 31.230713, "count": 15},
{"lng": 121.520704, "lat": 31.230713, "count": 15},
{"lng": 121.524189, "lat": 31.243051, "count": 15},
{"lng": 121.5180057, "lat": 31.23760155, "count": 15},
{"lng": 121.5351162, "lat": 31.23799506, "count": 15},
{"lng": 121.524557, "lat": 31.230854, "count": 15},
{"lng": 121.5180057, "lat": 31.23760155, "count": 15},
{"lng": 121.537868, "lat": 31.233427, "count": 15},
{"lng": 121.52627, "lat": 31.231159, "count": 15},
{"lng": 121.5194457, "lat": 31.23239053, "count": 15},
{"lng": 121.52627, "lat": 31.231159, "count": 15},
{"lng": 121.51825, "lat": 31.23831918, "count": 15},
{"lng": 121.51825, "lat": 31.23831918, "count": 15},
{"lng": 121.559709, "lat": 31.251387, "count": 15},
{"lng": 121.492885, "lat": 31.207306, "count": 10},
{"lng": 121.492885, "lat": 31.207306, "count": 15},
{"lng": 121.492885, "lat": 31.207306, "count": 15},
{"lng": 121.492813, "lat": 31.210359, "count": 15},
{"lng": 121.488819, "lat": 31.213753, "count": 15},
{"lng": 121.4672219, "lat": 31.04843604, "count": 5},
    ];

    var point = new Array(); //存放标注点经纬信息的数组 
    var marker = new Array(); //存放标注点对象的数组  
    var opacity = 0.1;
    for (var i = 0; i < points.length; i++) {
        var p0 = points[i].lng;
        var p1 = points[i].lat; 
        point[i] = new window.BMap.Point(p0, p1); //循环生成新的地图点  
        if(points[i].count==5)
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#7700FF",fillColor:"#7700FF",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        else if(points[i].count==10)
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#4DFC42",fillColor:"#4DFC42",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        else
            marker[i] = new window.BMap.Circle(point[i],500,{strokeColor:"#FF0A00",fillColor:"#FF0A00",fillOpacity:opacity,strokeWeight:0, strokeStyle:"solid", strokeOpacity:0.01}); //按照地图点坐标生成标记 
        map.addOverlay(marker[i]);
    }
</script>